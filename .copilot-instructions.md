# Frontend Copilot Instructions - RESTful Notes App

## Projektstruktur

```
restful-notes-user-session-frontend/
├── index.html          # Haupt-HTML Datei
├── style.css          # Styling
├── app.js            # Haupt-Anwendungslogik (todoApp Klasse)
├── js/
│   ├── SessionManager.js  # Session-Management
│   ├── ApiClient.js      # API-Kommunikation
│   └── utils/           # Hilfsfunktionen (geplant)
└── assets/
    └── img/           # Icons und Bilder
```

## Architektur-Prinzipien

### 1. Separation of Concerns
- **app.js**: UI-Management und Koordination
- **SessionManager.js**: Session-Status und User-Informationen
- **ApiClient.js**: Alle REST-API Kommunikation
- **index.html**: Minimale HTML-Struktur
- **style.css**: Komplettes Styling

### 2. Coding Standards
- Verwende **Function Constructors** (nicht ES6 Classes)
- JSDoc-Kommentare für alle Funktionen
- Deutsche Kommentare, englische Code-Bezeichnungen
- "use strict" in jeder Datei
- Fehlerbehandlung mit try/catch oder Promise.catch()

### 3. API-Integration
- Alle API-Calls über `ApiClient` Klasse
- Session-Management über `SessionManager` Klasse
- Credentials: 'include' für Cookie-basierte Sessions
- Einheitliches Error-Handling mit `errorHandler` Callback

### 4. UI-Patterns
- Dynamisches HTML-Rendering mit `insertAdjacentHTML`
- Event-Delegation für Todo-Items
- Form-Validierung mit Live-Updates
- Modus-basiertes UI (guest/list/form)

## Neue Dateien erstellen

### Wenn du neue JavaScript-Module erstellst:
1. Erstelle sie im `js/` Verzeichnis
2. Verwende Function Constructors
3. Füge JSDoc-Kommentare hinzu
4. Aktualisiere `index.html` mit Script-Tag
5. Berücksichtige Lade-Reihenfolge der Abhängigkeiten

### Wenn du Hilfsfunktionen hinzufügst:
1. Erstelle sie in `js/utils/`
2. Verwende standalone Funktionen (nicht in Klassen)
3. Exportiere über globale Variablen (kein ES6 modules)

## API-Endpoints (Backend-Referenz)
- `GET /api/auth/session` - Session validieren
- `POST /api/auth/login` - Login
- `POST /api/auth/register` - Registrierung
- `POST /api/auth/logout` - Logout
- `POST /api/auth/guest` - Gast-Session starten
- `DELETE /api/auth/guest` - Gast-Session beenden
- `GET /api/todos` - Alle Todos
- `GET /api/todos/:id` - Einzelnes Todo
- `POST /api/todos` - Todo erstellen
- `PUT /api/todos/:id` - Todo aktualisieren
- `DELETE /api/todos/:id` - Todo löschen

## Debugging & Development
- Browser DevTools für Frontend-Debugging
- Console.log für API-Responses
- Network-Tab für API-Request Monitoring
- Session-Status wird in SessionManager verwaltet

## Wichtige Hinweise
- Immer `credentials: 'include'` für API-Requests
- Error-Handler in ApiClient registrieren
- Session-Status über SessionManager prüfen
- UI-Updates nur über app.js koordinieren
